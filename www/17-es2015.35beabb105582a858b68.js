(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"2t07":function(t,e,n){"use strict";n.r(e),n.d(e,"RegisterPageRoutingModule",(function(){return c}));var i=n("tyNb"),r=n("b0Bx"),o=n("zpKS"),a=n("fXoL");const s=[{path:"",component:r.a},{path:"home",component:o.a}];let c=(()=>{class t{}return t.\u0275mod=a.Hb({type:t}),t.\u0275inj=a.Gb({factory:function(e){return new(e||t)},imports:[[i.h.forChild(s)],i.h]}),t})()},b0Bx:function(t,e,n){"use strict";n.d(e,"a",(function(){return c}));var i=n("mrSG"),r=n("fXoL"),o=n("tyNb"),a=n("tnAE"),s=n("TEn/");let c=(()=>{class t{constructor(t,e){this.router=t,this.rest=e}goToLogin(){this.router.navigateByUrl("/home")}ngOnInit(){return Object(i.a)(this,void 0,void 0,(function*(){this.username=yield this.rest.getCurrentUser(),(this.username="")?document.getElementById("emailRegister").setAttribute("value",""):document.getElementById("emailRegister").setAttribute("value",this.username)}))}login(){var t=document.getElementById("emailRegister").value,e=document.getElementById("nameRegister").value,n=document.getElementById("factionRegister").value;""!=t&&""!=e&&""!=n?this.rest.login({name:e,email:t,faction:n}).subscribe(t=>{console.log(t[0]),'{"400":"Bad request"}'==JSON.stringify(t)?alert("Something went wrong try againt please"):(this.rest.setUser(t[0].name),this.goToMenu())}):alert("Insert email please")}goToRegister(){this.router.navigate(["/register"])}goToMenu(){this.router.navigate(["/menu"])}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(o.f),r.Jb(a.a))},t.\u0275cmp=r.Db({type:t,selectors:[["app-register"]],decls:38,vars:1,consts:[[3,"translucent"],[2,"text-align","center","margin-top","2%"],["src","../assets/logo.png",1,"imgItem"],[1,"content"],["type","email","id","emailRegister","placeholder","Email"],["type","text","id","nameRegister","placeholder","Nickname"],["id","factionRegister","placeholder","Select One"],["value","China"],["value","USMC"],["value","MEC"],[3,"click"],["slot","bottom"],["tab","home",3,"click"],["name","log-in-outline"],["tab","register"],["name","document-text-outline"]],template:function(t,e){1&t&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-title"),r.hc(3," Web Guerilla "),r.Lb(),r.Lb(),r.Lb(),r.Mb(4,"ion-content"),r.Mb(5,"h1",1),r.hc(6," Register "),r.Lb(),r.Kb(7,"ion-img",2),r.Mb(8,"div",3),r.Mb(9,"ion-item"),r.Kb(10,"ion-input",4),r.Lb(),r.Kb(11,"br"),r.Mb(12,"ion-item"),r.Kb(13,"ion-input",5),r.Lb(),r.Kb(14,"br"),r.Mb(15,"ion-item"),r.Mb(16,"ion-label"),r.hc(17,"Faction"),r.Lb(),r.Mb(18,"ion-select",6),r.Mb(19,"ion-select-option",7),r.hc(20,"China"),r.Lb(),r.Mb(21,"ion-select-option",8),r.hc(22,"USMC"),r.Lb(),r.Mb(23,"ion-select-option",9),r.hc(24,"MEC"),r.Lb(),r.Lb(),r.Lb(),r.Kb(25,"br"),r.Mb(26,"ion-button",10),r.Ub("click",(function(){return e.login()})),r.hc(27,"Register"),r.Lb(),r.Lb(),r.Lb(),r.Mb(28,"ion-tabs"),r.Mb(29,"ion-tab-bar",11),r.Mb(30,"ion-tab-button",12),r.Ub("click",(function(){return e.goToLogin()})),r.Mb(31,"ion-label"),r.hc(32,"Login"),r.Lb(),r.Kb(33,"ion-icon",13),r.Lb(),r.Mb(34,"ion-tab-button",14),r.Mb(35,"ion-label"),r.hc(36,"Register"),r.Lb(),r.Kb(37,"ion-icon",15),r.Lb(),r.Lb(),r.Lb()),2&t&&r.bc("translucent",!0)},directives:[s.f,s.v,s.u,s.e,s.h,s.j,s.i,s.B,s.k,s.p,s.A,s.q,s.c,s.t,s.r,s.s,s.g],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.imgItem[_ngcontent-%COMP%]{align-items:center;align-content:center;align-self:center;text-align:center;width:20%;height:20%;margin-left:40%;margin-right:40}"]}),t})()},tnAE:function(t,e,n){"use strict";n.d(e,"a",(function(){return g}));var i=n("mrSG"),r=n("tk/3"),o=n("2Vo4"),a=n("LRne"),s=n("lJxs"),c=n("JIr8"),b=n("fXoL"),l=n("e8h1");const u={headers:new r.c({"Content-Type":"application/json"})};let g=(()=>{class t{constructor(t,e){this.http=t,this.storage=e,this.username=new o.a("error"),this.currentUsername=this.username.asObservable(),this.enemy=new o.a("error"),this.currentEnemy=this.enemy.asObservable(),this.endPoint=new o.a("https://guerrilla-api-b78225.herokuapp.com/"),this.currentendPoint=this.endPoint.asObservable()}setUser(t){this.username.next(t),this.storage.set("name",t)}setEnemy(t){this.username.next(t),this.storage.set("enemy",t)}setEndPoint(t){return Object(i.a)(this,void 0,void 0,(function*(){return new Promise(e=>{this.endPoint.next(t),e(t)})}))}extractData(t){return t||{}}getCurrentUser(){return Object(i.a)(this,void 0,void 0,(function*(){return new Promise(t=>{this.storage.get("name").then(e=>{this.username.next(e),t(e)})})}))}getCurrentEnemy(){return Object(i.a)(this,void 0,void 0,(function*(){return new Promise(t=>{this.storage.get("enemy").then(e=>{this.enemy.next(e),t(e)})})}))}logout(){return Object(i.a)(this,void 0,void 0,(function*(){return new Promise(t=>{this.storage.remove("name"),this.username.next(""),t("ha cerrado session")})}))}login(t){var e;return this.currentendPoint.subscribe(t=>e=t),this.http.post(e+"guerrilla/"+t.name,t,u).pipe(Object(s.a)(this.extractData),Object(c.a)(this.handleError("login")))}getUserData(t){var e;return this.currentendPoint.subscribe(t=>e=t),this.http.get(e+"guerrilla/"+t,u).pipe(Object(s.a)(this.extractData),Object(c.a)(this.handleError("getData")))}buyUnits(t){var e,n;return console.log(t),this.currentUsername.subscribe(t=>n=t),this.currentendPoint.subscribe(t=>e=t),this.http.put(e+"guerrilla/"+n+"/units",t,u).pipe(Object(s.a)(this.extractData),Object(c.a)(this.handleError("buyUnits")))}attack(t,e){var n;return this.currentendPoint.subscribe(t=>n=t),this.http.post(n+"guerrilla/attack/"+e+"/?guerrillaSrc="+t,u).pipe(Object(s.a)(this.extractData),Object(c.a)(this.handleError("attack")))}getRanking(t,e,n){var i;return this.currentendPoint.subscribe(t=>i=t),this.http.get(i+"guerrilla?name="+t+"&email="+e+"&faction="+n,u).pipe(Object(s.a)(this.extractData),Object(c.a)(this.handleError("ranking")))}handleError(t="operation",e){return n=>(console.error(n),console.log(`${t} failed: ${n.message}`),Object(a.a)(e))}}return t.\u0275fac=function(e){return new(e||t)(b.Qb(r.a),b.Qb(l.b))},t.\u0275prov=b.Fb({token:t,factory:t.\u0275fac,providedIn:"root"}),t})()},zpKS:function(t,e,n){"use strict";n.d(e,"a",(function(){return b}));var i=n("ofXK"),r=n("fXoL"),o=n("tyNb"),a=n("tnAE"),s=n("TEn/"),c=n("3Pt+");let b=(()=>{class t{constructor(t,e,n){this.router=t,this.rest=e,this.userData=""}ngOnInit(){}goToRegister(){this.router.navigate(["/register"])}goToMenu(){this.router.navigate(["/menu"])}login(){var t=document.getElementById("email").value;""!=t?this.rest.login({name:"null",email:t,faction:"null"}).subscribe(e=>{'{"400":"Bad request"}'==JSON.stringify(e)?(this.rest.setUser(t),this.goToRegister()):(this.rest.setUser(e.name),this.goToMenu())}):alert("Insert email please")}}return t.\u0275fac=function(e){return new(e||t)(r.Jb(o.f),r.Jb(a.a),r.Jb(i.c))},t.\u0275cmp=r.Db({type:t,selectors:[["app-home"]],decls:25,vars:2,consts:[[3,"translucent"],[1,"title"],["src","../assets/logo.png",1,"imgItem"],[1,"content"],["id","email","placeholder","Email",3,"ngModel","ngModelChange"],[3,"click"],["slot","bottom"],["tab","home"],["name","log-in-outline"],["tab","register",3,"click"],["name","document-text-outline"]],template:function(t,e){1&t&&(r.Mb(0,"ion-header",0),r.Mb(1,"ion-toolbar"),r.Mb(2,"ion-title"),r.hc(3," Web Guerilla "),r.Lb(),r.Lb(),r.Lb(),r.Mb(4,"ion-content"),r.Mb(5,"h1",1),r.hc(6," Login "),r.Lb(),r.Kb(7,"ion-img",2),r.Mb(8,"div",3),r.Mb(9,"ion-item"),r.Mb(10,"ion-input",4),r.Ub("ngModelChange",(function(t){return e.userData=t})),r.Lb(),r.Lb(),r.Kb(11,"br"),r.Kb(12,"br"),r.Mb(13,"ion-button",5),r.Ub("click",(function(){return e.login()})),r.hc(14,"Login"),r.Lb(),r.Lb(),r.Lb(),r.Mb(15,"ion-tabs"),r.Mb(16,"ion-tab-bar",6),r.Mb(17,"ion-tab-button",7),r.Mb(18,"ion-label"),r.hc(19,"Login"),r.Lb(),r.Kb(20,"ion-icon",8),r.Lb(),r.Mb(21,"ion-tab-button",9),r.Ub("click",(function(){return e.goToRegister()})),r.Mb(22,"ion-label"),r.hc(23,"Register"),r.Lb(),r.Kb(24,"ion-icon",10),r.Lb(),r.Lb(),r.Lb()),2&t&&(r.bc("translucent",!0),r.zb(10),r.bc("ngModel",e.userData))},directives:[s.f,s.v,s.u,s.e,s.h,s.j,s.i,s.B,c.c,c.d,s.c,s.t,s.r,s.s,s.k,s.g],styles:["#container[_ngcontent-%COMP%]{text-align:center;position:absolute;left:0;right:0;top:50%;transform:translateY(-50%)}#container[_ngcontent-%COMP%]   strong[_ngcontent-%COMP%]{font-size:20px;line-height:26px}#container[_ngcontent-%COMP%]   p[_ngcontent-%COMP%]{font-size:16px;line-height:22px;color:#8c8c8c;margin:0}#container[_ngcontent-%COMP%]   a[_ngcontent-%COMP%]{text-decoration:none}.imgItem[_ngcontent-%COMP%]{align-items:center;align-content:center;align-self:center;text-align:center;width:20%;height:20%;margin-left:40%;margin-right:40%}"]}),t})()}}]);