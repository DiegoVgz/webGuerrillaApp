function _classCallCheck(n,e){if(!(n instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(n,e){for(var t=0;t<e.length;t++){var o=e[t];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(n,o.key,o)}}function _createClass(n,e,t){return e&&_defineProperties(n.prototype,e),t&&_defineProperties(n,t),n}(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"19mU":function(n,e,t){"use strict";t.r(e),t.d(e,"MenuPageModule",(function(){return v}));var o=t("ofXK"),i=t("3Pt+"),r=t("TEn/"),b=t("tyNb"),c=t("mrSG"),s=t("fXoL"),a=t("tnAE"),u=t("e8h1");function l(n,e){if(1&n){var t=s.Nb();s.Mb(0,"div",14),s.Mb(1,"ion-row",15),s.Mb(2,"ion-col"),s.Mb(3,"ion-label"),s.hc(4,"Units"),s.Lb(),s.Lb(),s.Mb(5,"ion-col"),s.Mb(6,"ion-label"),s.hc(7,"Quantity"),s.Lb(),s.Lb(),s.Mb(8,"ion-col"),s.Mb(9,"ion-label"),s.hc(10,"Buy"),s.Lb(),s.Lb(),s.Lb(),s.Kb(11,"br"),s.Mb(12,"ion-row"),s.Mb(13,"ion-col"),s.Mb(14,"ion-label"),s.hc(15,"Assault"),s.Lb(),s.Lb(),s.Mb(16,"ion-col"),s.Mb(17,"ion-label"),s.hc(18),s.Lb(),s.Lb(),s.Mb(19,"ion-col"),s.Mb(20,"ion-button",1),s.Ub("click",(function(){return s.dc(t),s.Yb().buyAssault()})),s.hc(21,"+"),s.Lb(),s.hc(22,"\xa0\xa0"),s.Mb(23,"ion-label"),s.hc(24),s.Lb(),s.Lb(),s.Lb(),s.Kb(25,"br"),s.Mb(26,"ion-row"),s.Mb(27,"ion-col"),s.Mb(28,"ion-label"),s.hc(29,"Tanks"),s.Lb(),s.Lb(),s.Mb(30,"ion-col"),s.Mb(31,"ion-label"),s.hc(32),s.Lb(),s.Lb(),s.Mb(33,"ion-col"),s.Mb(34,"ion-button",16),s.Ub("click",(function(){return s.dc(t),s.Yb().buyTank()})),s.hc(35,"+"),s.Lb(),s.hc(36,"\xa0\xa0"),s.Mb(37,"ion-label"),s.hc(38),s.Lb(),s.Lb(),s.Lb(),s.Kb(39,"br"),s.Mb(40,"ion-row"),s.Mb(41,"ion-col"),s.Mb(42,"ion-label"),s.hc(43,"Engineer"),s.Lb(),s.Lb(),s.Mb(44,"ion-col"),s.Mb(45,"ion-label"),s.hc(46),s.Lb(),s.Lb(),s.Mb(47,"ion-col"),s.Mb(48,"ion-button",1),s.Ub("click",(function(){return s.dc(t),s.Yb().buyEngineer()})),s.hc(49,"+"),s.Lb(),s.hc(50,"\xa0\xa0"),s.Mb(51,"ion-label"),s.hc(52),s.Lb(),s.Lb(),s.Lb(),s.Mb(53,"ion-row"),s.Mb(54,"ion-col"),s.Mb(55,"ion-button",1),s.Ub("click",(function(){return s.dc(t),s.Yb().alertToBuy()})),s.hc(56,"Comprar"),s.Lb(),s.Lb(),s.Lb(),s.Lb()}if(2&n){var o=s.Yb();s.zb(18),s.ic(o.myAssault),s.zb(6),s.ic(o.assaultToBuy),s.zb(8),s.ic(o.myTank),s.zb(6),s.ic(o.tankToBuy),s.zb(8),s.ic(o.myEngineer),s.zb(6),s.ic(o.engineerToBuy)}}function h(n,e){if(1&n){var t=s.Nb();s.Mb(0,"div",14),s.Mb(1,"ion-row",15),s.Mb(2,"ion-col"),s.Mb(3,"ion-label"),s.hc(4,"Units"),s.Lb(),s.Lb(),s.Mb(5,"ion-col"),s.Mb(6,"ion-label"),s.hc(7,"Quantity"),s.Lb(),s.Lb(),s.Mb(8,"ion-col"),s.Mb(9,"ion-label"),s.hc(10,"Buy"),s.Lb(),s.Lb(),s.Lb(),s.Kb(11,"br"),s.Mb(12,"ion-row"),s.Mb(13,"ion-col"),s.Mb(14,"ion-label"),s.hc(15,"Bunkers"),s.Lb(),s.Lb(),s.Mb(16,"ion-col"),s.Mb(17,"ion-label"),s.hc(18),s.Lb(),s.Lb(),s.Mb(19,"ion-col"),s.Mb(20,"ion-button",1),s.Ub("click",(function(){return s.dc(t),s.Yb().buyBunker()})),s.hc(21,"+"),s.Lb(),s.hc(22,"\xa0\xa0"),s.Mb(23,"ion-label"),s.hc(24),s.Lb(),s.Lb(),s.Lb(),s.Mb(25,"ion-row"),s.Mb(26,"ion-col"),s.Mb(27,"ion-button",1),s.Ub("click",(function(){return s.dc(t),s.Yb().alertToBuy()})),s.hc(28,"Comprar"),s.Lb(),s.Lb(),s.Lb(),s.Lb()}if(2&n){var o=s.Yb();s.zb(18),s.ic(o.myBunker),s.zb(6),s.ic(o.bunkerToBuy)}}var f,m,y,M=((f=function(){function n(e,t,o,i,r){_classCallCheck(this,n),this.menu=e,this.router=t,this.rest=o,this.storage=i,this.alertController=r,this.offense=!0,this.defense=!1,this.actual="Offense",this.countdown=1,this.tankToBuy=0,this.engineerToBuy=0,this.assaultToBuy=0,this.bunkerToBuy=0,this.timer=60,this.m=1,this.pages=[{title:"ranking",url:"/menu/ranking"},{title:"connect",url:"/menu/connect"}],this.selectedPath="",this.start(),this.showData()}return _createClass(n,[{key:"ngOnInit",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:this.offense=!0;case 1:case"end":return n.stop()}}),n,this)})))}},{key:"showData",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.rest.getCurrentUser();case 2:if(n.t0=n.sent,null!=n.t0){n.next=7;break}this.goOut(),n.next=11;break;case 7:return n.next=9,this.rest.getCurrentUser();case 9:this.username=n.sent,this.rest.getUserData(this.username).subscribe((function(n){e.myMoney=n[0].resources.money,e.myPeople=n[0].resources.people,e.myOil=n[0].resources.oil,e.myBunker=n[0].buildings.bunker,e.myAssault=n[0].army.assault,e.myEngineer=n[0].army.engineer,e.myTank=n[0].army.tank}));case 11:case"end":return n.stop()}}),n,this)})))}},{key:"showOffense",value:function(){this.defense=!1,this.offense=!0,this.actual="Offense"}},{key:"showDefense",value:function(){this.offense=!1,this.defense=!0,this.actual="Defense"}},{key:"openEnd",value:function(){this.menu.close("start"),this.menu.enable(!0,"start"),this.menu.open("start"),this.menu.close("start")}},{key:"goToRanking",value:function(){this.router.navigate(["/ranking"])}},{key:"goToSettings",value:function(){this.router.navigate(["/connect"])}},{key:"goToMenu",value:function(){this.router.navigate(["/menu"])}},{key:"goOut",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.rest.logout();case 2:this.logout=n.sent,this.router.navigate([""]);case 4:case"end":return n.stop()}}),n,this)})))}},{key:"start",value:function(){setInterval((function(){this.timer--,0===this.timer&&(this.timer=60,this.m-=1),0===this.m&&(this.timer=60,this.m=1,this.showData())}).bind(this),1e3)}},{key:"buyTank",value:function(){this.tankToBuy++}},{key:"buyEngineer",value:function(){this.engineerToBuy++}},{key:"buyBunker",value:function(){this.bunkerToBuy++}},{key:"buyAssault",value:function(){this.assaultToBuy++}},{key:"buy",value:function(){var n=this;this.rest.buyUnits({army:{assault:this.assaultToBuy,engineer:this.engineerToBuy,tank:this.tankToBuy},buildings:{bunker:this.tankToBuy}}).subscribe((function(e){'{"402":"Non-sufficient funds"}'==JSON.stringify(e)?n.presentAlert():(n.myMoney=e[0].resources.money,n.myPeople=e[0].resources.people,n.myOil=e[0].resources.oli,n.myBunker=e[0].buildings.bunker,n.myAssault=e[0].army.assault,n.myEngineer=e[0].army.engineer,n.myTank=e[0].army.tank,n.tankToBuy=0,n.assaultToBuy=0,n.bunkerToBuy=0,n.engineerToBuy=0)}))}},{key:"presentAlert",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Alert",subHeader:"Non-sufficient funds",message:"",buttons:["OK"]});case 2:return e=n.sent,n.next=5,e.present();case 5:case"end":return n.stop()}}),n,this)})))}},{key:"alertToBuy",value:function(){return Object(c.a)(this,void 0,void 0,regeneratorRuntime.mark((function n(){var e,t=this;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,this.alertController.create({cssClass:"my-custom-class",header:"Are you sure to buy : ",message:"<strong><ion-item>Tanks: "+this.tankToBuy+"</ion-item><ion-item>Engineers: "+this.engineerToBuy+"</ion-item><ion-item>Assault: "+this.assaultToBuy+"</ion-item><ion-item>Bunkers: "+this.bunkerToBuy+" </ion-item></strong>",buttons:[{text:"Cancel",role:"cancel",cssClass:"secondary",handler:function(n){console.log("Confirm Cancel: blah")}},{text:"Okay",handler:function(){t.buy()}}]});case 2:return e=n.sent,n.next=5,e.present();case 5:case"end":return n.stop()}}),n,this)})))}}]),n}()).\u0275fac=function(n){return new(n||f)(s.Jb(r.x),s.Jb(b.f),s.Jb(a.a),s.Jb(u.b),s.Jb(r.a))},f.\u0275cmp=s.Db({type:f,selectors:[["app-menu"]],decls:66,vars:8,consts:[["id","main"],[3,"click"],["name","menu"],["side","start","contentId","main"],["color","#e20d0d"],[2,"color","#e20d0d"],[1,"title"],[1,"content2"],["id","countdown"],["id","countdown-number"],["r","18","cx","20","cy","20"],["id","myOil"],[1,"content3"],["class","content4",4,"ngIf"],[1,"content4"],[2,"background-color","#1f1f1f","color","rgba(245, 245, 245, 0.973)"],[1,"button",3,"click"]],template:function(n,e){1&n&&(s.Kb(0,"ion-router-outlet",0),s.Mb(1,"ion-header"),s.Mb(2,"ion-toolbar"),s.Mb(3,"ion-button",1),s.Ub("click",(function(){return e.openEnd()})),s.Kb(4,"ion-icon",2),s.Lb(),s.Lb(),s.Lb(),s.Mb(5,"ion-content"),s.Mb(6,"ion-menu",3),s.Mb(7,"ion-header"),s.Mb(8,"ion-toolbar",4),s.Mb(9,"ion-title",5),s.hc(10,"Menu"),s.Lb(),s.Lb(),s.Lb(),s.Mb(11,"ion-content"),s.Mb(12,"ion-list"),s.Mb(13,"ion-item",1),s.Ub("click",(function(){return e.goToMenu()})),s.hc(14,"Profile"),s.Lb(),s.Mb(15,"ion-item",1),s.Ub("click",(function(){return e.goToRanking()})),s.hc(16,"Ranking"),s.Lb(),s.Mb(17,"ion-item",1),s.Ub("click",(function(){return e.goToSettings()})),s.hc(18,"Settings"),s.Lb(),s.Mb(19,"ion-item",1),s.Ub("click",(function(){return e.goOut()})),s.hc(20,"Logout"),s.Lb(),s.Mb(21,"ion-item",1),s.Ub("click",(function(){return e.openEnd()})),s.hc(22,"Close"),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(23,"h1",6),s.hc(24),s.Lb(),s.Mb(25,"div",7),s.Mb(26,"div",8),s.Mb(27,"div",9),s.hc(28),s.Lb(),s.Xb(),s.Mb(29,"svg"),s.Kb(30,"circle",10),s.Lb(),s.Lb(),s.Wb(),s.Mb(31,"ion-row"),s.Mb(32,"ion-col"),s.Mb(33,"ion-label"),s.hc(34,"Oil"),s.Lb(),s.Lb(),s.Mb(35,"ion-col"),s.Mb(36,"ion-label",11),s.hc(37),s.Lb(),s.Lb(),s.Lb(),s.Mb(38,"ion-row"),s.Mb(39,"ion-col"),s.Mb(40,"ion-label"),s.hc(41,"Money"),s.Lb(),s.Lb(),s.Mb(42,"ion-col"),s.Mb(43,"ion-label"),s.hc(44),s.Lb(),s.Lb(),s.Lb(),s.Mb(45,"ion-row"),s.Mb(46,"ion-col"),s.Mb(47,"ion-label"),s.hc(48,"People"),s.Lb(),s.Lb(),s.Mb(49,"ion-col"),s.Mb(50,"ion-label"),s.hc(51),s.Lb(),s.Lb(),s.Lb(),s.Lb(),s.Mb(52,"div",12),s.Mb(53,"ion-row"),s.Mb(54,"ion-col"),s.Mb(55,"ion-label"),s.hc(56),s.Lb(),s.Lb(),s.Lb(),s.Mb(57,"ion-row"),s.Mb(58,"ion-col"),s.Mb(59,"ion-button",1),s.Ub("click",(function(){return e.showDefense()})),s.hc(60,"Defense"),s.Lb(),s.Lb(),s.Mb(61,"ion-col"),s.Mb(62,"ion-button",1),s.Ub("click",(function(){return e.showOffense()})),s.hc(63,"Offense"),s.Lb(),s.Lb(),s.Lb(),s.gc(64,l,57,6,"div",13),s.gc(65,h,29,2,"div",13),s.Lb(),s.Lb()),2&n&&(s.zb(24),s.ic(e.username),s.zb(4),s.ic(e.timer),s.zb(9),s.ic(e.myOil),s.zb(7),s.ic(e.myMoney),s.zb(7),s.ic(e.myPeople),s.zb(5),s.ic(e.actual),s.zb(8),s.bc("ngIf",e.offense),s.zb(1),s.bc("ngIf",e.defense))},directives:[r.n,r.f,r.u,r.c,r.g,r.e,r.m,r.t,r.l,r.j,r.o,r.d,r.k,o.i],styles:[".my-custom-menu[_ngcontent-%COMP%]{--width:500px}.title[_ngcontent-%COMP%]{text-align:center;margin-top:2%;color:#fff}body[_ngcontent-%COMP%]{height:100%;width:100%;background-color:#333}#countdown[_ngcontent-%COMP%]{position:relative;margin:10px auto auto;height:40px;width:40px;text-align:center}#countdown-number[_ngcontent-%COMP%]{color:#fff;display:inline-block;line-height:40px}svg[_ngcontent-%COMP%]{position:absolute;top:0;right:0;width:40px;height:40px;transform:rotateY(-180deg) rotate(-90deg)}svg[_ngcontent-%COMP%]   circle[_ngcontent-%COMP%]{stroke-dasharray:113px;stroke-dashoffset:0px;stroke-linecap:round;stroke-width:2px;stroke:#fff;fill:none}@-webkit-keyframes countdown{0%{stroke-dashoffset:0px}to{stroke-dashoffset:113px}}@keyframes countdown{0%{stroke-dashoffset:0px}to{stroke-dashoffset:113px}}"]}),f),k=t("zpKS"),d=t("2ELU"),g=t("9fo7"),L=[{path:"",component:M,children:[{path:"/register",component:t("b0Bx").a},{path:"/ranking",component:g.a},{path:"/connect",component:d.a},{path:"/home",component:k.a}]},{path:"",redirectTo:"/menu"}],p=((y=function n(){_classCallCheck(this,n)}).\u0275mod=s.Hb({type:y}),y.\u0275inj=s.Gb({factory:function(n){return new(n||y)},imports:[[b.h.forChild(L)],b.h]}),y),v=((m=function n(){_classCallCheck(this,n)}).\u0275mod=s.Hb({type:m}),m.\u0275inj=s.Gb({factory:function(n){return new(n||m)},imports:[[o.b,i.a,r.v,p]]}),m)}}]);